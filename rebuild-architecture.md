# Lost Ark å‰¯æœ¬æ—¥ç¨‹è¡¨ç³»çµ± - é‡æ–°æ§‹å»ºæ¶æ§‹

## ğŸ¯ é …ç›®é‡æ§‹ç›®æ¨™

åŸºæ–¼å°åŸå§‹ Excel æ•¸æ“šçš„æ·±å…¥åˆ†æï¼Œé‡æ–°æ§‹å»ºä¸€å€‹ç¾ä»£åŒ–çš„ Lost Ark å‰¯æœ¬æ’ç¨‹ç®¡ç†ç³»çµ±ï¼Œå®Œç¾æ‰¿æ¥ç¾æœ‰å·¥ä½œæµç¨‹ä¸¦æå‡ç”¨æˆ¶é«”é©—ã€‚

## ğŸ“Š æ ¸å¿ƒæ¥­å‹™éœ€æ±‚ (åŸºæ–¼ Excel åˆ†æ)

### 1. **è§’è‰²ç®¡ç†ç³»çµ±**
- æ”¯æŒå¤šç¨®è·æ¥­ï¼šæ§è¡“å£«ã€æ ¼é¬¥å¤§å¸«ã€è–é¨å£«ã€ç•«å®¶ã€æ°£è±¡è¡“å£«ã€å½±æ®ºè€…ã€æ‹³éœ¸ã€åˆ€é‹’ç­‰
- è£ç­‰è¿½è¹¤ï¼š1490-1610+ ç¯„åœ
- è·æ¥­å®šä½ï¼šDPS/è¼”åŠ©/å¦å…‹è§’è‰²åˆ†å·¥
- å¤šè§’è‰²ç®¡ç†ï¼šå–®ä¸€ç”¨æˆ¶å¯æ“æœ‰å¤šå€‹è§’è‰²

### 2. **ç¶“æ¿Ÿç³»çµ±**
- **éšæ®µæˆæœ¬ç®¡ç†**ï¼šP1, P2, P3, P4 å„éšæ®µé‡‘å¹£æ¶ˆè€—
- **æ”¶ç›Šåˆ†é¡**ï¼šæ´»é‡‘ vs ç¶é‡‘æ”¶ç›Šè¿½è¹¤
- **å‰¯æœ¬æ”¶ç›Šæ•¸æ“š**ï¼š
  - ä¸‘é¾ç³»åˆ—: æ™®é€š 500é‡‘, å›°é›£ 700é‡‘
  - é¹¿: 1000é‡‘
  - ç‰›ç³»åˆ—: 1250-2700é‡‘
  - é­…ç³»åˆ—: 1450-1750é‡‘
- **æ”¶ç›Šæœ€ä½³åŒ–**ï¼šè‡ªå‹•è¨ˆç®—æ”¶ç›Š/æˆæœ¬æ¯”

### 3. **å‰¯æœ¬ç®¡ç†ç³»çµ±**
- **å‰¯æœ¬é¡å‹**ï¼šå¤©ç•Œã€å¤¢å¹»ã€è±¡ç‰™å¡”ã€ç˜Ÿç–«
- **é›£åº¦æ¨¡å¼**ï¼šå–®äººã€æ™®é€šã€å›°é›£
- **é—œå¡ç³»çµ±**ï¼šG1, G2, G3 é€²åº¦è¿½è¹¤
- **äººæ•¸éœ€æ±‚**ï¼š4äººã€8äººã€16äººå‰¯æœ¬æ”¯æŒ
- **è§’è‰²éœ€æ±‚**ï¼šè¼¸å‡º/è¼”åŠ©äººæ•¸é…ç½®

### 4. **æ’ç¨‹ç³»çµ±**
- **ç‰¹æ®Šé€±æœŸ**ï¼šé€±å››åˆ°é€±ä¸‰çš„éŠæˆ²é€±æœŸ
- **æ™‚é–“ç®¡ç†**ï¼šæ”¯æŒ Excel æ™‚é–“æ ¼å¼è½‰æ›
- **å³æ™‚åˆ†é…**ï¼šè§’è‰²åˆ°å‰¯æœ¬çš„å‹•æ…‹åˆ†é…
- **è¡çªæª¢æ¸¬**ï¼šè‡ªå‹•æª¢æ¸¬æ™‚é–“å’Œäººå“¡è¡çª

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹è¨­è¨ˆ

### æŠ€è¡“æ£§é¸æ“‡
```typescript
Frontend:
- Next.js 15.4 (App Router)
- TypeScript
- Tailwind CSS v4
- shadcn/ui v4
- Zustand (ç‹€æ…‹ç®¡ç†)
- React Hook Form (è¡¨å–®ç®¡ç†)

Backend:
- Next.js API Routes
- Prisma ORM
- PostgreSQL
- Redis (å¿«å–)
- Socket.io (å³æ™‚åŠŸèƒ½)

Excel æ•´åˆ:
- xlsx (è®€å–/å¯«å…¥)
- è‡ªå®šç¾©è§£æå™¨

æ¸¬è©¦:
- Playwright (E2E)
- Jest (å–®å…ƒæ¸¬è©¦)
```

### è³‡æ–™åº«è¨­è¨ˆ

#### æ ¸å¿ƒæ¨¡å‹
```prisma
// ç”¨æˆ¶ç³»çµ±
model User {
  id          String @id @default(cuid())
  email       String @unique
  name        String?
  role        UserRole @default(PLAYER)
  characters  Character[]
  schedules   Schedule[]
}

// è·æ¥­ç³»çµ±
model JobCategory {
  id     String @id @default(cuid())
  name   String // ç”·æˆ°å£«ã€å¥³æˆ°å£«ã€é­”æ³•å¸«ç­‰
  color  String
  icon   String
  jobs   Job[]
}

model Job {
  id         String @id @default(cuid())
  name       String // æ§è¡“å£«ã€æ ¼é¬¥å¤§å¸«ç­‰
  categoryId String
  role       JobRole @default(DPS)
  
  category   JobCategory @relation(fields: [categoryId], references: [id])
  characters Character[]
}

// è§’è‰²ç³»çµ±
model Character {
  id           String @id @default(cuid())
  userId       String
  nickname     String
  itemLevel    Int
  jobId        String
  isMain       Boolean @default(false)
  
  user         User @relation(fields: [userId], references: [id])
  job          Job @relation(fields: [jobId], references: [id])
  participants RaidParticipant[]
  economics    RaidEconomics[]
}

// å‰¯æœ¬ç³»çµ±
model Raid {
  id               String @id @default(cuid())
  name             String
  type             RaidType
  mode             RaidMode
  gate             String?
  scheduledTime    DateTime
  status           RaidStatus @default(PLANNED)
  
  // éœ€æ±‚è¨­å®š
  maxPlayers       Int
  requiredDps      Int
  requiredSupport  Int
  minItemLevel     Int
  
  // ç¶“æ¿Ÿæ¨¡å‹
  phase1Cost       Int?
  phase2Cost       Int?
  phase3Cost       Int?
  phase4Cost       Int?
  activeGoldReward Int?
  boundGoldReward  Int?
  
  participants     RaidParticipant[]
  timeline         RaidTimeline[]
  economics        RaidEconomics[]
}

// ç¶“æ¿Ÿè¿½è¹¤
model RaidEconomics {
  id           String @id @default(cuid())
  raidId       String
  characterId  String
  totalCost    Int
  activeGold   Int
  boundGold    Int
  totalRevenue Int
  profitRatio  Float // æ”¶ç›Šç‡
  
  raid         Raid @relation(fields: [raidId], references: [id])
  character    Character @relation(fields: [characterId], references: [id])
}

// æ™‚é–“ç·šç³»çµ±
model RaidTimeline {
  id          String @id @default(cuid())
  raidId      String
  gate        String
  status      GateStatus @default(PENDING)
  startTime   DateTime?
  completedAt DateTime?
  
  raid        Raid @relation(fields: [raidId], references: [id])
}

// åˆ—èˆ‰é¡å‹
enum UserRole {
  ADMIN
  SCHEDULER  
  PLAYER
}

enum JobRole {
  DPS
  SUPPORT
  TANK
}

enum RaidType {
  CELESTIAL     // å¤©ç•Œ
  DREAM         // å¤¢å¹»
  IVORY_TOWER   // è±¡ç‰™å¡”
  PLAGUE        // ç˜Ÿç–«
}

enum RaidMode {
  SOLO     // å–®äºº
  NORMAL   // æ™®é€š
  HARD     // å›°é›£
}

enum RaidStatus {
  PLANNED
  RECRUITING
  FULL
  IN_PROGRESS
  COMPLETED
  CANCELLED
}

enum GateStatus {
  PENDING
  IN_PROGRESS
  COMPLETED
  FAILED
}
```

## ğŸ¨ UI/UX è¨­è¨ˆç†å¿µ

### 1. **Excel é¢¨æ ¼ç†Ÿæ‚‰åº¦**
- è¡¨æ ¼å¼æ•¸æ“šå±•ç¤º
- å¤šæ¬„ä½åŒæ™‚ç·¨è¼¯
- å¿«æ·éµæ”¯æŒ
- æ‰¹é‡æ“ä½œåŠŸèƒ½

### 2. **å³æ™‚å”ä½œ**
- å¯¦æ™‚ç‹€æ…‹åŒæ­¥
- ç”¨æˆ¶åœ¨ç·šæŒ‡ç¤º
- è®Šæ›´æ­·å²è¿½è¹¤
- è¡çªè§£æ±ºç•Œé¢

### 3. **æ•¸æ“šè¦–è¦ºåŒ–**
- æ”¶ç›Šè¶¨å‹¢åœ–è¡¨
- åƒèˆ‡åº¦çµ±è¨ˆ
- é€²åº¦è¿½è¹¤å„€è¡¨æ¿
- è·æ¥­åˆ†ä½ˆåœ“é¤…åœ–

## ğŸš€ é–‹ç™¼è¨ˆåŠƒ

### Phase 1: åŸºç¤å»ºè¨­ (1-2é€±)
- [ ] Next.js é …ç›®åˆå§‹åŒ–
- [ ] è³‡æ–™åº«è¨­è¨ˆå’Œ Prisma è¨­å®š
- [ ] åŸºç¤ UI çµ„ä»¶åº«
- [ ] èªè­‰ç³»çµ±æ•´åˆ
- [ ] Excel åŒ¯å…¥/åŒ¯å‡ºå·¥å…·

### Phase 2: æ ¸å¿ƒåŠŸèƒ½ (2-3é€±)
- [ ] è§’è‰²ç®¡ç†ç³»çµ±
- [ ] è·æ¥­ç®¡ç†ç•Œé¢
- [ ] å‰¯æœ¬å‰µå»ºå’Œç®¡ç†
- [ ] ç¶“æ¿Ÿç³»çµ±å¯¦ç¾
- [ ] åŸºç¤æ’ç¨‹åŠŸèƒ½

### Phase 3: é«˜ç´šåŠŸèƒ½ (2-3é€±)
- [ ] å³æ™‚å”ä½œåŠŸèƒ½
- [ ] æ™ºèƒ½æ’ç¨‹ç®—æ³•
- [ ] æ•¸æ“šåˆ†æå’Œå ±è¡¨
- [ ] ç§»å‹•ç«¯é©é…
- [ ] æ€§èƒ½å„ªåŒ–

### Phase 4: æ¸¬è©¦å’Œéƒ¨ç½² (1-2é€±)
- [ ] å®Œæ•´æ¸¬è©¦å¥—ä»¶
- [ ] æ€§èƒ½æ¸¬è©¦
- [ ] ç”¨æˆ¶é©—æ”¶æ¸¬è©¦
- [ ] ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²
- [ ] æ•¸æ“šé·ç§»è…³æœ¬

## ğŸ“ˆ æˆåŠŸæŒ‡æ¨™

### æŠ€è¡“æŒ‡æ¨™
- é é¢è¼‰å…¥æ™‚é–“ < 1.5ç§’
- API éŸ¿æ‡‰æ™‚é–“ < 200ms
- ç³»çµ±å¯ç”¨æ€§ > 99.9%
- æ”¯æŒ 100+ ä¸¦ç™¼ç”¨æˆ¶

### æ¥­å‹™æŒ‡æ¨™
- æ’ç¨‹æ•ˆç‡æå‡ 60%
- ç”¨æˆ¶æ“ä½œéŒ¯èª¤æ¸›å°‘ 70%
- Excel åŒ¯å…¥æˆåŠŸç‡ > 95%
- ç”¨æˆ¶æ»¿æ„åº¦ > 4.5/5

---

**é è¨ˆé–‹ç™¼æ™‚é–“**: 6-10 é€±  
**åœ˜éšŠè¦æ¨¡**: 1-2 åé–‹ç™¼è€…  
**é‡é»**: å®Œç¾æ‰¿æ¥ç¾æœ‰ Excel å·¥ä½œæµç¨‹ï¼ŒåŒæ™‚æä¾›ç¾ä»£åŒ–ç”¨æˆ¶é«”é©—